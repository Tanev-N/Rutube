# Rutube

Rutube — ведущий российский видеопортал, предлагающий к просмотру тв онлайн, кинофильмы, сериалы, мультфильмы и пользовательское видео. смотри. создавай. загружай.

## 1. Тема и целевая Аудитория

### Аналитика аудитории

* **Пользователей:** 71 млн в месяц и 10 млн в день.
* **Визиты на сайт:** 411 млн в месяц.
* **Демография:** 61% мужчин и 39% женщин.
* **Основной возраст:** от 25 до 34 лет.

  ![график возраста и пола пользователей](https://github.com/Tanev-N/Rutube/blob/main/img/age_gender.png?raw=true)
* **Устройства:** 49% с персонального компьютера, 51% с мобильного устройства.

  ![статистика по устройствам](https://github.com/Tanev-N/Rutube/blob/main/img/device_distribution.png?raw=true)
* **Страны:** Россия, Казакстан, Беларусь, Украина, Германия.

  ![статистика по странам](https://github.com/Tanev-N/Rutube/blob/main/img/geography.png?raw=true)

### Функционнальность MVP

1. Регистрация и авторизация.
2. Просмотр видео пользователями - возможность ставить лайки, дизлайки.
3. Каналы - пользователь может сделать несколько каналов, в каждом канале публиковать видео.
4. Загрузка собственных видео на каналы.
5. Подписки - возможность подписываться на каналы, чтобы следить за авторами.
6. Комментарии - к видео, возможность лайкать комментарии и делать комментарии на комментарии.
7. Плейлисты - объединение видео в подборку как для себя, так и для других.
8. Рейтинг и рекомендательная система - видео, которые показывают пользователям на главной странице и в предложенных к видео.
9. История просмотра.

### Список источников

1. [Официальный телеграм канал Rutube.](https://t.me/rutube/4689)
2. [Метрики](https://www.similarweb.com/website/rutube.ru/#overview)

## 2. Расчет нагрузки

### Продуктовые метрики

| Метрика                                                                         | Значение | Комментарий                                                                      |
| -------------------------------------------------------------------------------------- | ---------------- | ------------------------------------------------------------------------------------------- |
| Месячная аудитория                                                    | 70.5 млн      | По данным Mediascope                                                                |
| Дневная аудитория (DAU)                                                | 14.3 млн      | По данным Mediascope                                                                |
| **Средний размер хранилища на пользователя** |                  |                                                                                             |
| - Видео                                                                           | 3.0 ГБ         | 3 видео по 1 ГБ (10% пользователей загружают контент) |
| - Профили                                                                       | 0.1 МБ         | Аватар (100 КБ) + метаданные (1.5 КБ)                                   |
| - Каналы                                                                         | 0.06 МБ        | 20% пользователей с 1.5 каналами × 200 КБ/канал               |
| - Плейлисты                                                                   | 0.1 ГБ         | 5 плейлистов × 20 МБ (метаданные)                                    |
| - Комментарии                                                               | 0.01 ГБ        | 20 комментариев × 0.5 КБ                                                     |
| - Подписки                                                                     | 0.002 МБ       | 10 подписок × 16 Байт                                                          |
| - История просмотров                                                  | 0.005 ГБ       | 240 записей × 20 Байт                                                           |

---

### Технические метрики

### Размер хранилища

| Тип данных                 | Количество | Объем (ТБ) | Расчет                                                             |
| ----------------------------------- | -------------------- | ----------------- | ------------------------------------------------------------------------ |
| Видео                          | 211.5 млн         | 211,500           | 70.5 млн × 3 видео × 1 ГБ                                    |
| Профили                      | 70.5 млн          | 7.1               | 70.5 млн × 101.5 КБ                                                |
| Каналы                        | 21.15 млн         | 4.23              | 70.5 млн × 20% × 1.5 канала × 200 КБ                       |
| Плейлисты                  | 35 млн            | 7                 | 70.5 млн × 0.5 плейлиста × 20 МБ                         |
| Комментарии              | 1.4 млрд         | 0.7               | 14.3 млн DAU × 0.4 комментария × 30 дней × 0.5 КБ |
| Подписки                    | 705 млн           | 0.01              | 70.5 млн × 10 подписок × 16 Байт                        |
| История просмотров | 16.92 млрд       | 0.34              | 70.5 млн × 240 записей × 20 Байт                         |

### Сетевой трафик

| Тип трафика                     | Суммарный (ТБ/сутки) | Пиковый (Гбит/с) | Расчет                                                                                           |
| ----------------------------------------- | ------------------------------------ | ---------------------------- | ------------------------------------------------------------------------------------------------------ |
| **Видео (исходящий)** | 25,140                               | 436                          | 14.3 млн DAU × 8 видео × 225 МБ (10 мин, 720p, 3 Мбит/с)                           |
| **Метаданные**            | 1.43                                 | 0.02                         | Профили + каналы + плейлисты (14.3 млн × 100 КБ/пользователь)  |
| **Действия**                | 0.04                                 | 0.0007                       | Лайки + комментарии + подписки (14.3 млн × 2.6 действий × 1 КБ) |
| **Авторизация**          | 0.008                                | 0.0001                       | 30% DAU × 2 КБ/запрос                                                                         |

### RPS (запросов в секунду)

| Тип запроса       | Средний RPS | Пиковый RPS | Расчет                 |
| --------------------------- | ------------------ | ------------------ | ---------------------------- |
| Просмотр видео | 1,321              | 6,605              | 14.3 млн × 8 / 86,400    |
| Лайки/дизлайки | 330                | 1,650              | 14.3 млн × 2 / 86,400    |
| Комментарии      | 66                 | 330                | 14.3 млн × 0.4 / 86,400  |
| Подписки            | 33                 | 165                | 14.3 млн × 0.2 / 86,400  |
| Авторизация      | 50                 | 250                | 14.3 млн × 0.3 / 86,400  |
| Загрузка видео | 5                  | 25                 | 14.3 млн × 0.03 / 86,400 |

---

### Источники

1. **Размер Аудитории**: (MAU, DAU) - по данным [Mediascope](https://tass.ru/ekonomika/22555439).
2. **Размер видео**: 225 МБ (10 мин, 720p, 3 Мбит/с) – по данным [Streaming Learning Center](https://streaminglearningcenter.com/).
3. **Активность пользователей**:

   - 8 просмотров/день – аналогия с [исследованием Nielsen](https://www.nielsen.com/).
   - 10% контент-мейкеров – оценка для UGC-платформ (Statista).